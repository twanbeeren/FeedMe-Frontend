<div class="container">
  <div id="disliked-box" style="position: absolute; padding: 25em 0; background: #ff4d4d; width: 3em; top: 0.25em;" cdkDropList [cdkDropListData]="dislikedItems" cdkDropListConnectedTo="dishcard-box" (cdkDropListDropped)="dislikeDrop($event)"></div>
  <!-- Card -->
  <div class="columns is-mobile is-centered" style="height: 41.5rem;">
    <div *ngIf="show" id="dishcard-box" class="column is-10" cdkDropList [cdkDropListData]="menu" cdkDropListConnectedTo="disliked-box" (cdkDropListDropped)="drop($event)">
      <app-dishcard class="dishcard" *ngFor="let item of menu; let i = index" [cardId]="i" [item]='item' cdkDrag [cdkDragDisabled]="item.dragDisabled"></app-dishcard>
    </div>
    
  </div>
  <div id="liked-box" style="position: relative; padding: 25em 0; background: #a3ff4d; width: 3em; float: right; top: -42em;" cdkDropList [cdkDropListData]="likedItems" cdkDropListConnectedTo="dishcard-box" (cdkDropListDropped)="likeDrop($event)"></div>
  
  <!-- Buttons -->
  <div class="columns is-mobile is-centered">
    <div class="column is-11 has-text-centered">
      <button (click)="previousItem()" mat-fab aria-label="Return" class="return-button">
        <mat-icon class="undo-icon">undo</mat-icon>
      </button>
      <button (click)="dislikeItem()" mat-fab aria-label="Dislike" class="dislike-button">
        <mat-icon>close</mat-icon>
      </button>
      <button (click)="likeItem()" mat-fab aria-label="Like" class="like-button">
        <mat-icon>favorite</mat-icon>
      </button>
    </div>
    
  </div>
  
</div>

<!-- Modal -->
<div *ngIf="latestLikedItem" class="modal" [ngClass]="{'is-active': isModalActive}">
  <div class="modal-background"></div>
  <div class="modal-content has-text-centered">
    <p class="title is-1" style="color: white;">It's a match!</p>
    <p class="subtitle" style="color: white;">{{latestLikedItem.name}} has been added to your order.</p>
    <div class="circular-landscape">
      <img src="{{latestLikedItem.imgUrl}}" />
    </div>
    <div class="modal-button-container">
      <button class="modal-button" mat-raised-button color="primary" (click)="closeModal()">Continue swiping</button>
    </div>
    <div class="modal-button-container">
      <button class="modal-button" mat-raised-button color="warn" (click)="unmatch()">Unmatch</button>
    </div>
  </div>
</div>
